# 🤖 AI聊天助手 - Web界面版

一个类似ChatGPT的现代化聊天界面，支持文本和图片聊天。

## ✨ 功能特性

- 🎨 **现代化界面** - 类似ChatGPT的美观设计
- 💬 **文本聊天** - 智能对话功能
- 🖼️ **图片分析** - 支持上传图片进行分析
- 📱 **响应式设计** - 支持手机和电脑访问
- 🔄 **实时对话** - 流畅的聊天体验
- 💾 **会话记录** - 自动保存聊天历史
- 🗑️ **清空对话** - 一键清空聊天记录

## 🚀 快速开始

### 1. 安装依赖

```bash
pip install flask volcenginesdkarkruntime Pillow requests
```

### 2. 启动系统

```bash
python start_chat.py
```

### 3. 访问界面

在浏览器中打开: http://127.0.0.1:8000

## 📱 使用方法

### 文本聊天
1. 在输入框中输入问题
2. 点击发送按钮或按回车键
3. 等待AI回复

### 图片聊天
1. 点击📎按钮选择图片
2. 输入关于图片的问题（可选）
3. 点击发送按钮
4. AI会分析图片并回答

### 其他功能
- **清空对话**: 点击右上角"清空对话"按钮
- **多行输入**: 按Shift+回车换行
- **取消图片**: 点击图片预览旁的❌

## 🎨 界面特色

- **渐变背景** - 美观的紫色渐变
- **圆角设计** - 现代化的圆角卡片
- **动画效果** - 平滑的交互动画
- **响应式布局** - 自适应不同屏幕尺寸
- **实时反馈** - 加载状态和错误提示

## 🔧 技术架构

```
┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐
│   Web界面       │    │   Flask后端     │    │   AI API        │
│  (HTML/CSS/JS)  │◄──►│  (web_chat.py)  │◄──►│   (27.py)       │
│  端口: 8000     │    │                 │    │   端口: 5000    │
└─────────────────┘    └─────────────────┘    └─────────────────┘
```

## 📂 文件结构

```
l_0419/
├── start_chat.py          # 启动脚本
├── web_chat.py           # Web后端
├── 27.py                 # AI API后端
├── templates/
│   └── chat.html         # 聊天界面
├── test_ark_api.py       # 命令行版本
└── README_WEB.md         # 使用说明
```

## 🛠️ 自定义配置

### 修改端口
在 `web_chat.py` 中修改:
```python
app.run(host='0.0.0.0', port=8000)  # 改为其他端口
```

### 修改样式
编辑 `templates/chat.html` 中的CSS样式

### 添加功能
在 `web_chat.py` 中添加新的API端点

## 🔍 故障排除

### 常见问题

1. **端口被占用**
   ```bash
   # 查看端口占用
   netstat -ano | findstr :8000
   netstat -ano | findstr :5000
   ```

2. **依赖缺失**
   ```bash
   pip install -r requirements.txt
   ```

3. **图片上传失败**
   - 检查图片格式（支持jpg, png, gif等）
   - 确保图片大小合理（建议<10MB）

4. **AI回复失败**
   - 检查API密钥是否正确
   - 确保网络连接正常

### 调试模式

启动时添加调试信息:
```bash
python web_chat.py  # 单独启动Web界面
python 27.py        # 单独启动API后端
```

## 🎯 使用建议

1. **图片质量**: 使用清晰的图片获得更好的分析结果
2. **问题描述**: 详细描述问题有助于获得准确回答
3. **网络环境**: 确保网络连接稳定
4. **浏览器兼容**: 推荐使用Chrome、Firefox等现代浏览器

## 🔄 更新日志

- **v1.0** - 基础聊天功能
- **v1.1** - 添加图片上传支持
- **v1.2** - 优化界面设计
- **v1.3** - 添加会话记录功能

## 📞 技术支持

如有问题，请检查:
1. 控制台错误信息
2. 浏览器开发者工具
3. 服务器日志输出

---

🎉 **享受与AI的智能对话吧！**
